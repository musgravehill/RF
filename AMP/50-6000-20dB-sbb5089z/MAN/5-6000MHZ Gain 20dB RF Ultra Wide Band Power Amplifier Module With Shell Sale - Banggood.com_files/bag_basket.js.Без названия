var Basket={C:{},rp:document.referrer.replace(/\$/g,""),vp:document.location.href,addcartBtn:'.buy_link .addcart,.buy_link .buynow,.goods_together_sub .buy_now,.goods_together_sub .selected_cart,.fast_addcart',attrbtn:'.good_main .attr',Vv:function(y){for(var g=[],t=document.cookie.split(";"),l=RegExp("^\\s*"+y+"=\\s*(.*?)\\s*$"),s=0;s<t.length;s++){var p=t[s]["match"](l);p&&g.push(p[1])} return g},Gpid:function(l,h){var s=h=='us.banggood.com'&&new RegExp(".*-wp-.*-([0-9]*)\\.html")||h=='eu.banggood.com'&&new RegExp(".*-wp-.*-([0-9]*)\\.html")||new RegExp(".*-p-([0-9]*)\\.html");var g=s.exec(l);return g?encodeURIComponent(g[1]):0},parseVP:function(w){this.C.products_id=this.Gpid(w.pathname,w.hostname);},init:function(){var u=this.Vv('__bguser');this.C.bguser=u;this.C.visit_page=encodeURIComponent(this.vp);if(this.rp){this.C.referer=encodeURIComponent(this.rp);} this.parseVP(document.location);$(document).on("click",this.addcartBtn,$.proxy(Basket,"ClicktoCart",this.C.products_id));},ClicktoCart:function(id){var JGOBJ=Basket;var num=0;this.C.products_id=id;if($(this.attrbtn).length>0){var count=$(this.attrbtn).length;$(this.attrbtn).each(function(){if($(this).find('.attrValues').hasClass('hasclicked')){num++;}});if(count==num){JGOBJ.sendRec();}}else{JGOBJ.sendRec();}},sendRec:function(){var s='';for(var k in this.C){s+='&'+k+'='+this.C[k];} var g=("https:"==document.location.protocol?"https://dc":"http://dc")+".banggood.com/?com=sess&t=basket&zmkm=1"+s+"&callback=?";$.getJSON(g,function(){});},callback:function(ret){}};$(function(){Basket.init();});
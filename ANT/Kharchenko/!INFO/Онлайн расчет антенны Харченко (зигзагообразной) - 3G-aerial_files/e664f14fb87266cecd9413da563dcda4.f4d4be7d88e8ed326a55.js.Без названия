(window.webpackJsonp=window.webpackJsonp||[]).push([["e664f14fb87266cecd9413da563dcda4"],{"4Ch9":function(e,t,n){"use strict";n.r(t),n.d(t,"ID_ASHVETS",(function(){return _})),n.d(t,"ID_NSHKARUBA",(function(){return h})),n.d(t,"ID_PKALAYDIN",(function(){return m})),n.d(t,"CONSOLE_CUSTOM_NUM_FIELD",(function(){return g})),n.d(t,"init",(function(){return v})),n.d(t,"getParams",(function(){return C})),n.d(t,"setOption",(function(){return D})),n.d(t,"setUid",(function(){return I})),n.d(t,"setIp",(function(){return j})),n.d(t,"setUaHash",(function(){return B})),n.d(t,"setSpamtype",(function(){return L})),n.d(t,"getMainSpamtype",(function(){return N})),n.d(t,"getBantype",(function(){return M})),n.d(t,"getDuration",(function(){return P})),n.d(t,"getSearchPeriod",(function(){return H})),n.d(t,"setConditions",(function(){return R})),n.d(t,"setThreshold",(function(){return A})),n.d(t,"setSimplifyNone",(function(){return F})),n.d(t,"composeSearchLinkFromParams",(function(){return W})),n.d(t,"getNumericField",(function(){return q})),n.d(t,"getConditionsHint",(function(){return z})),n.d(t,"switchParams",(function(){return $})),n.d(t,"conditionsClear",(function(){return J})),n.d(t,"optionClear",(function(){return G})),n.d(t,"addPatternPart",(function(){return Z})),n.d(t,"mount",(function(){return ae}));n("pIFo"),n("Vd3H"),n("rGqo"),n("Btvt"),n("HEwt"),n("SRfc");var a,o,r,i=n("ofcU"),s=n("b8yN"),c=n("awNS"),l=n("t7n3"),u=n("W28y"),p=n("FThC"),d=n("aqR2"),_=1576215,h=138305184,f=163176673,m=143978,g="custom";function v(e){var t=e.conditions;t&&(ls.set(X(""),t),addClass(geByClass("conditions_clear_button")[0],"highlighted"));var n=e.conditions2;n&&(ls.set(X("2"),n),addClass(geByClass("conditions_clear_button")[1],"highlighted"))}function b(){return hasClass(c.consoleWrap,"console_locked")}function y(){b()||addClass(c.consoleWrap,"console_locked"),removeClass(c.consoleWrap,"console_show_message")}function w(){var e=geByClass1("_apply_pattern",c.patternWrap),t=geByClass1("_search_reports",c.patternWrap);b()&&removeClass(c.consoleWrap,"console_locked"),unlockButton(e),unlockButton(t)}function S(e,t){var n=geByClass1("_console_error",c.consoleWrap),a=geByClass("console_item");n.innerHTML="",e||(e="");var o=ce("div");e&&(o.innerHTML=e),o.className=t?"error":"info_msg",e.match(/\/pattern[0-9]+/)&&a&&a.forEach((function(e){e.className="console_item red_item"})),addClass(c.consoleWrap,"console_show_message"),n.appendChild(o),w()}function k(e){a&&clearTimeout(a),a=setTimeout(()=>{domData(c.consoleWrap,"failed",0)},3e3),domData(c.consoleWrap,"failed",1),console.error(e),S(e,!0)}function x(){var e=ge("queries",c.consoleWrap);return geByClass1("_queries_toggle",c.consoleWrap).innerHTML=isVisible(e)?"Показать запросы":"Скрыть запросы",toggle(e)}function C(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},a=function(e){var t="conditions_input"===e.id?domPS(e):domNS(e);return hasClass(t,"option_cleared")},o=function(t){return e&&a(t)};n["type"+t]=cur["uiSpamtype"+t].val();var r=ge("pattern_input"+t);n["pattern"+t]=o(r)?T(r):r.value,n["threshold"+t]=ge("threshold_input"+t).value;var i=ge("uid_input"+t);n["uid"+t]=o(i)?T(i):i.value;var s=ge("ip_input"+t);n["ip"+t]=o(s)?T(s):s.value;var c=ge("uahash_input"+t);n["uahash"+t]=o(c)?T(c):c.value;var l=ge("time_start_input"+t);n["time_start"+t]=o(l)?T(l):l.value;var u=ge("time_finish_input"+t);if(n["time_finish"+t]=o(u)?T(u):u.value,Object(d.isEnabled)())n["conditions"+t]=window["ConditionsEditor"+t].getPlainText();else{var p=ge("conditions_input"+t);n["conditions"+t]=o(p)?ls.get(X(t)):p.value}return n},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];Array.from(geByClass("option_cleared",e)).forEach((function(e){var t=geByTag1("input",domPN(e))||geByTag1("textarea",domPN(e));n.push(t.id)}));var a=[];return n.forEach(e=>{switch(e){case"pattern_input"+t:a|=cur.hideFieldsBitMasks.substring;break;case"ip_input"+t:a|=cur.hideFieldsBitMasks.ip;break;case"uahash_input"+t:a|=cur.hideFieldsBitMasks.uaHash;break;case"uid_input"+t:a|=cur.hideFieldsBitMasks.uid;break;case"time_finish_input"+t:a|=cur.hideFieldsBitMasks.timeFinish;break;case"time_start_input"+t:a|=cur.hideFieldsBitMasks.timeStart;break;case"conditions_input"+t:a|=cur.hideFieldsBitMasks.conditions}}),a};t.simplify=cur.uiSimplify.val(),t.duration=cur.uiDuration.val(),t.bantype=cur.uiBan.val(),t.search_period=cur.uiSearchPeriod.val();var o=cur.uiSearchPeriod.selectedItems();return o&&o.length>0&&(t.period_in_seconds=3===o[0].length&&1===o[0][2]?1:0),t.comment=ge("comment_input").value,t.all_actions=isChecked("all_actions")||!1,t.notbannedonly=isChecked("not_banned_only")||!1,t.linksonly=isChecked("links_only")||!1,t.wrap_actions=null===ge("wrap_actions")?1:isChecked("wrap_actions"),t.encode_entities=null===ge("encode_entities")?1:isChecked("encode_entities"),t.hidden_fields=a(geByClass1("pattern_part_root")),extend(t,n(e,"")),Y()&&(t.hidden_fields2=a(geByClass1("pattern_part_child"),"2"),extend(t,n(e,"2"))),t}function T(e){return domData(e,"restore")}function O(e,t){return domData(e,"restore",t)}function E(){var e=ge("pattern_input"),t=geByClass1("_search_reports",c.patternWrap),n=C();if(!e.value)return scrollToTop(0),void notaBene(e);isButtonLocked(t)||(y(),lockButton(t),o&&(tooltips.destroy(o.el),o=!1),n.act="a_console_find_actions",ajax.post("noSpam.php",n,{onDone:e=>function(e){w(),geByClass1("_console",c.consoleWrap).innerHTML=e;var t=geByClass1("_console_numfield_ip1024",c.consoleWrap);t&&new InlineDropdown(t,{items:[[256,"/24 - 256"],[1024,"/22 - 1024"],[4096,"/20 - 4096"],[16384,"/18 - 16k"],[65536,"/16 - 65k"],[262144,"/14 - 262k"],[1048576,"/12 - 1kk"]],selected:256,withArrow:!0,keepTitle:!0,autoShow:!0,autoHide:300,onSelect:e=>q("ip"+e)})}(e),onFail:e=>k(e)}))}function D(e,t){"string"==typeof t&&(t=clean(t)),val(e,t),G(!1,ge(e),"reset")}function I(e){D("uid_input",e)}function j(e){D("ip_input",e)}function B(e){D("uahash_input",e)}function L(e){cur.uiSpamtype.selectItem(e)}function N(){return cur.uiSpamtype.val()}function M(){return cur.uiBan.val()}function P(){return cur.uiDuration.val()}function H(){return cur.uiSearchPeriod.val()}function R(e,t){Object(d.isEnabled)()?window.ConditionsEditor.update("append",e):(0!==e.length&&(ge("conditions_input").value+=ge("conditions_input").value?" "+(t?"||":"&&")+" "+e:e),J("reset"))}function A(e){D("threshold_input",e)}function F(){cur.uiSimplify.selectItem("0")}function W(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(e=C(!0));var t=Object.keys(e);t.sort();for(var n=[],a=0;a<t.length;a++){var o=t[a],r=e[o];n.push(encodeURIComponent(o)+"="+encodeURIComponent(r))}return"/noSpam?"+n.join("&")}function U(){var e=W(),t=geByClass1("_get_pattern_link");t&&t.tt&&t.tt.destroy(),addClass(t,"progress"),ajax.post("noSpam.php",{act:"get_search_link",link:e},{onDone:function(e){removeClass(t,"progress"),showTooltip(t,{text:e,slide:15,center:1,black:1,nohide:1,hidedt:400,shift:[0,2,0],onShowEnd:()=>{(0,window.selectText)("shorten_link"),setTimeout(t.tthide,3e3)}})},onFail:function(e){removeClass(t,"progress"),topError(e,{dt:5})}})}function V(){var e=geByClass1("debug_pattern",c.patternWrap);if(!isButtonLocked(e)){var t=extend(C(),{act:"debug_pattern"});y(),ajax.post("noSpam.php",t,{onDone:e=>S(e),onFail:e=>k(e)})}}function q(e,t){var n=isChecked("values_hist"),a=C();a.need_hist=n,a.act="numeric_field",a.field=e,a.custom_condition=t||"",cur.numFieldSel=e,ajax.post("noSpam.php",a,{onDone:function(a,o){var r=clean(t||e);showFastBox({width:n?330:710,title:r,dark:1,containerClass:"nospam_hist_wrap",hideButtons:n},a).evalBox(o)},progress:"console_query_fields_progress"})}function K(e){r=e,geByClass1("_nospam_console_custom_num_condition_patterns").innerHTML=e}function z(e){var t=2===e?cur.uiSpamtype2.val():cur.uiSpamtype.val();return console.log(t),showBox("noSpam.php",{act:"conditions_hint",spamtype:t},{dark:1,containerClass:"nospam_hint_wrap"})}function Q(){var e=C(),t=geByClass1("_apply_pattern",c.patternWrap);e.act="apply_pattern",isButtonLocked(t)||null===document.querySelector(".console_failed_queries")&&(y(),lockButton(t),ajax.post("noSpam.php",e,{onDone:e=>S(e),onFail:e=>k(e)}))}function $(e){var t=["pattern_input","threshold_input","ip_input","uahash_input","time_finish_input","time_start_input","conditions_input"];if(Object(d.isEnabled)()){t.pop();var n=window.ConditionsEditor.getEditorState(),a=window.ConditionsEditor2.getEditorState();window.ConditionsEditor.setEditorState(a),window.ConditionsEditor2.setEditorState(n)}t.forEach(e=>{var t=ge(e).value;ge(e).value=ge(e+"2").value,ge(e+"2").value=t});var o=cur.uiSpamtype.val();cur.uiSpamtype.selectItem(cur.uiSpamtype2.val()),cur.uiSpamtype2.selectItem(o),toggleClass(e,"switched")}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return`nospam_conditions${e}_${vk.id}`}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Object(d.isEnabled)())window.ConditionsEditor.handleClearRestore();else{var n=ge("conditions_input"+t),a="option_cleared",o=domPS(n),r=function(){var e=n.value;ls.set(X(t),e),n.value="",e&&addClass(o,a)},i=function(){var e=ls.get(X(t));removeClass(o,a),removeClass(o,"highlighted"),e&&(ls.remove(X(t)),n.value=e)},s=function(){removeClass(o,a),removeClass(o,"highlighted"),ls.remove(X(t))};switch(e){case"clear":hasClass(o,a)?i():r();break;case"reset":s()}}}function G(e,t,n){var a=ge(t),o=hasClass(e,"option_cleared");function r(n){var a=val(n);switch(O(n,a),t){case"pattern_input":case"pattern_input2":val(n,"/"),cur.uiSimplify.selectItem(32);break;case"threshold_input":case"threshold_input2":val(n,n.value&&"2"===n.value?"1":"2");break;default:val(n,"")}a&&addClass(e,"option_cleared")}switch(n){case"clear":o?function(){switch(t){case"threshold_input":case"threshold_input2":r(a);break;default:o&&(a.value=T(a))}removeClass(e,"option_cleared"),removeClass(e,"highlighted")}():r(a);break;case"reset":!function(){var e=geByClass1("option_clear",a.parentNode);O(a,""),removeClass(e,"option_cleared"),removeClass(e,"highlighted")}();break;case"reset_all":geByClass("option_clear").forEach((function(e){O(ge(e.getAttribute("data-option")),""),removeClass(e,"option_cleared"),removeClass(e,"highlighted")}))}}function Y(){var e=geByClass1("_pattern_part_child");if(!isVisible(e))return!1;for(var t=geByClass("cloneable_input",e),n=0;n<t.length;n++)if(val(t[n]))return!0;return!1}function Z(){var e=geByClass1("pattern_wrap");hasClass(e,"pattern_composite")?removeClass(e,"pattern_composite"):addClass(e,"pattern_composite")}function ee(){}function te(e){var t=ge(document.activeElement);if(e.altKey)switch(-1!==[49,50,51,52,53,67,70,81,82,83,87].indexOf(e.keyCode)&&t&&t.blur(),e.keyCode){case 83:Object(c.activeTab)()===c.tabPattern?E():Object(c.activeTab)()===c.tabReports&&Object(s.prepareReport)(Object(s.activeReportsType)(),Object(s.activeSubReportsType)());break;case 70:if(-1!==[_,h,f].indexOf(vk.id))return Q();break;case 81:ne("pattern_input");break;case 82:ne("conditions_regex");break;case 87:ne("conditions_simple");break;case 67:J("clear"),cur.conditions.deselectTemplate();break;case 49:cur.uiSearchPeriod.selectItem(1);break;case 50:cur.uiSearchPeriod.selectItem(24);break;case 51:cur.uiSearchPeriod.selectItem(72);break;case 52:cur.uiSearchPeriod.selectItem(240);break;case 53:cur.uiSearchPeriod.selectItem(2160)}}function ne(e){if(e){var t=getSelectionText();switch(e){case"pattern_input":D("pattern_input",t),F();break;case"conditions_simple":case"conditions_regex":var n=document.getSelection().baseNode,a=Object(p.getFieldName)(n);if(!a)return;R("conditions_simple"===e?`'${t}' << ${a}`:`@check_regex('${t=t.replace(/[.|+*(){}\[\]^$?]/g,"\\\\$&")}', ${a})`)}Object(p.removeSelectedText)()}}function ae(){var e=window.pageNode,t=window.browser.msie6?e:window,n=geByClass1("_pattern_buttons",c.patternWrap),a=Object(i.createModule)({handlers:(e,a)=>{a(n,"click","_search_reports",E),a(n,"click","_apply_pattern",Q),a(n,"click","_get_pattern_link",U),a(n,"click","debug_pattern",V),a(c.consoleWrap,"click","_queries_toggle",x),a(c.consoleWrap,"click","_console_linkfield_action",e=>function(e){var t=domData(e.target,"field"),n=showFastBox.pbind({width:710,title:t,dark:1}),a=C();a.act="link_field",a.field=t,ajax.post("noSpam.php",a,{onDone:n,progress:"console_query_fields_progress"})}(e)),a(c.consoleWrap,"click","_console_numfield_action",e=>{var t=e.target,n=domData(t,"field");n!==g?q(n):function(e){var t="nospam_console_custom_num_condition",n=()=>{var e=ge("nospam_console_custom_num_condition"),t=val(e);if(t){var n={act:"a_numeric_field_add_condition",custom_condition:t};ajax.post("noSpam.php",n,{onDone:K.pbind()}),q(g,t)}else notaBene(e)},a={className:"nospam_console_custom_num_condition_wrap",text:getTemplate("nospam_console_custom_num_condition"),forcetodown:1,nohide:1,forceNoHide:1,shift:[10,8],showdt:0,onShowEnd:()=>{elfocus(ge("nospam_console_custom_num_condition"))},onShowStart:()=>{val("nospam_console_custom_num_condition",ls.get(t)||"")},init:a=>{o=a;var r=ge("nospam_console_custom_num_condition");addEvent(r,"keypress",e=>onEnter(n,e)),addEvent(r,"keyup",()=>ls.set(t,val(r)));var i=geByClass1("_nospam_console_custom_num_condition_close",domPN(r));addEvent(i,"click",()=>e.tthide())}};o?(o.show(),n()):showTooltip(e,a),r&&K(r)}(t)}),a(t,"click","_nospam_console_custom_num_condition_pattern",e=>{var t=e.target,n=Object(l.unclean)(domData(t,"pattern"));val("nospam_console_custom_num_condition",n)}),a(t,"click","_nospam_console_custom_num_condition_clear",e=>{var t=e.target,n={act:"a_numeric_field_delete_condition",custom_condition:Object(l.unclean)(domData(t,"pattern"))};ajax.post("noSpam.php",n,{onDone:K.pbind()})}),a(c.consoleWrap,"click","console_set_range",e=>{var t=e.target,n=domData(t,"time");n<0?D("time_finish_input",-n):n>0&&function(e){D("time_start_input",e)}(n)}),a(c.consoleWrap,"click","console_uid",e=>{e.altKey&&e.ctrlKey&&(I(e.target.dataset.uid),cancelEvent(e))}),e(t,"scroll",ee),e(document,"keydown",te),a(c.patternWrap,"click","_option_clear",e=>{var t=e.target;G(t,domData(t,"option"),"clear")}),a(c.patternWrap,"click","_conditions_clear",e=>{J("clear",domNS(e.target).id.replace("conditions_input",""))}),a(document,"click","_console_conditions",e=>{var t=e.target;R(domData(t,"conditions"))}),a(c.consoleWrap,u.EVENT_MOUSEDOWN,"console_story",e=>{return t=e.target,n=domData(t,"owner_id"),a=domData(t,"story_id"),o=domData(t,"moderator_hash"),cur.noStoriesBack=!0,void window.showStory(`${n}/${n}_${a}/moderator_hash:${o}`);var t,n,a,o}),a(c.consoleWrap,u.EVENT_MOUSEDOWN,"_console_item_field_length",e=>{var t=Object(p.getFieldName)(e.target);if(t){var n=e.target.dataset.length,a="=";switch(e.target.dataset.mode){case"less":a="<",n=Math.floor(1.3*n);break;case"greater":a=">",n=Math.round(.7*n)}R(`@length(${t}) ${a} ${n}`)}}),a(c.consoleWrap,"click","console_item_exclude_uid",e=>{addClass(e.target.closest(".console_item"),"console_item_excluded"),R("uid != "+e.target.dataset.uid)}),a(c.consoleWrap,"click","console_item_pattern_from_sample",e=>{var t={pattern:"/",simplify:"simplify",uid:e.target.dataset.uid,ip:e.target.dataset.ip,ua_hash:e.target.dataset.ua,type:N(),bantype:M(),duration:P(),search_period:H()};Object(u.openInNewTab)(W(t))})}});cur.destroy.push(()=>{Object(i.destroyModule)(a)})}},"5soy":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),r=n("ylNO"),i=n.n(r),s=n("nv/5"),c=n("mWs8"),l=n("IXTq"),u="block_16",p=!1;function d(){p||(Object(c.addSpriteSymbol)(new i.a({id:u,viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="block_16"><path clip-rule="evenodd" d="M3.974 5.034a5.001 5.001 0 006.992 6.992zm8.052 5.932a5.001 5.001 0 00-6.992-6.992zm.57 1.63a6.5 6.5 0 10-9.192-9.192 6.5 6.5 0 009.192 9.192z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),p=!0)}var _=function(e){return Object(c.useIsomorphicLayoutEffect)((function(){d()}),[]),o.a.createElement(l.SvgIcon,Object(s.assign)({},e,{viewBox:"0 0 16 16",id:u,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};_.mountIcon=d,t.default=_},CGal:function(e,t,n){"use strict";n.r(t),n.d(t,"IconSettingsContext",(function(){return i})),n.d(t,"IconSettingsProvider",(function(){return s}));var a=n("q1tI"),o=n.n(a);function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=Object(a.createContext)({}),s=function(e){var t=e.children,n=r(e,["children"]),s=Object(a.useMemo)((function(){return n}),[n.classPrefix,n.globalClasses]);return o.a.createElement(i.Provider,{value:s},t)}},FThC:function(e,t,n){"use strict";n.r(t),n.d(t,"NOSPAM_TEXT_FIELD",(function(){return S})),n.d(t,"noSpamPatterns",(function(){return a.noSpamPatterns})),n.d(t,"abortPatternMild",(function(){return a.abortPatternMild})),n.d(t,"noSpamSuspicious",(function(){return o})),n.d(t,"noSpamTemplates",(function(){return i})),n.d(t,"dealSingleSpamer",(function(){return s.dealSingleSpamer})),n.d(t,"reportsTime",(function(){return s.reportsTime})),n.d(t,"onFiltersChange",(function(){return s.onFiltersChange})),n.d(t,"rollbackDocMailSpamer",(function(){return l})),n.d(t,"rollbackDocWallSpamer",(function(){return u})),n.d(t,"rollbackJpgMailSpamer",(function(){return p})),n.d(t,"rollbackJpgWallSpamer",(function(){return d})),n.d(t,"rollbackPngMailSpamer",(function(){return _})),n.d(t,"rollbackPngWallSpamer",(function(){return h})),n.d(t,"rollbackDocSpamer",(function(){return f})),n.d(t,"rollbackPhotoSpamer",(function(){return m})),n.d(t,"rollbackPhotoSpamerFromWall",(function(){return g})),n.d(t,"rollbackPhotoSpamerFromMail",(function(){return v})),n.d(t,"rollbackVideoSpamer",(function(){return b})),n.d(t,"rollbackVideoSpamerFromWall",(function(){return y})),n.d(t,"rollbackVideoSpamerFromMail",(function(){return w})),n.d(t,"entityDecode",(function(){return k})),n.d(t,"selectText",(function(){return x})),n.d(t,"removeSelectedText",(function(){return C})),n.d(t,"getSelectedText",(function(){return T})),n.d(t,"selectValue",(function(){return O})),n.d(t,"blockDomain",(function(){return E})),n.d(t,"removeFidSearch",(function(){return D})),n.d(t,"banFidZero",(function(){return I})),n.d(t,"banFidForever",(function(){return j})),n.d(t,"isClaimContent",(function(){return B})),n.d(t,"getFieldName",(function(){return L}));var a=n("uRA3"),o={selected:"ua_hash",updateOnSelect:function(){return o.getByType(o.selected)},getSpamType:function(){return isObject(this.spamtype)?this.spamtype._selected[0]:"wall"},getPeriod:function(){return isObject(this.period)?this.period._selected[0]:1},getByType:function(e){var t=ge("suspicious_table"),n=geByClass1("summary_tab_sel","suspicious_tabs"),a=isVisible("suspicious_tabs")?0:1,o=this;this.selected=e;var r=ge("suspicious_spamtype"),i=ge("suspicious_period"),s=geByClass("_suspicious_msg"),c=geByClass1("_suspicious_"+e+"_msg");each(s,(function(e,t){hide(t)})),show(c),"hashtags"==e?hide(r):show(r),"users"==e&&hide(r,i),a&&(t=ge("suspicious")),removeClass(n,"summary_tab_sel");var l={act:"a_get_suspicious",type:e,spamtype:this.getSpamType(),period:this.getPeriod(),need_tabs:a};addClass("suspicious_"+e,"summary_tab_sel"),ajax.post("noSpam.php",l,{onDone:function(e){if(!e)return topError(getLang("nospam_suspicious_data_error"));t.innerHTML=e,o.initInlineDropdown()},progress:"suspicious_progress"})},initInlineDropdown:function(){var e={withArrow:!0,keepTitle:!0,autoShow:!0,autoHide:300,onSelect:o.updateOnSelect},t=extend({items:cur.options.spamtypes,selected:"wall"},e),n=extend({items:[[1,"Один час"],[2,"Два часа"],[5,"5 часов"],[10,"10 часов"],[24,"Сутки"]],selected:1},e);this.spamtype||(this.spamtype=new InlineDropdown("suspicious_spamtype",t)),this.spamtype._els.valueEl.innerHTML=this.spamtype._selected[1],this.period||(this.period=new InlineDropdown("suspicious_period",n)),this.period._els.valueEl.innerHTML=this.period._selected[1]}},r=(n("pIFo"),n("Vd3H"),n("4Ch9")),i=function(e){this.selected=0,extend(this,e),this.templates=JSON.parse(e.templates)};i.prototype={addTemplate:function(){showBox("noSpam.php",{act:this.acts.add},{params:{width:430,dark:1,progress:"add_template"}})},saveTemplate:function(e){var t=cur[e],n=t.selected||0;if(ge("add_template_title")&&ge("add_template_text")){var a=trim(ge("add_template_title").value),o=trim(ge("add_template_text").value);if(!a)return notaBene("add_template_title");if(!o)return notaBene("add_template_text");var r={act:t.acts.save,title:a,text:o,hash:t.hash,template_id:n};ajax.post("noSpam.php",r,{onDone:function(e,n){var a=ge(t.links);a.innerHTML=e,hasClass(a,"template_links")||addClass(a,"template_links"),t.templates=JSON.parse(n),curBox().hide()},progress:n?"edit_template":"add_template"})}},editTemplate:function(){var e={act:this.acts.edit,template_id:this.selected,hash:this.hash};showBox("noSpam.php",e,{params:{width:430,dark:1,progress:"edit_template"}})},deleteTemplate:function(){var e=this;if(!this.selected)return!1;showFastBox({title:"Удаление шаблона",width:430,dark:1,progress:"delete_condition"},getLang("nospam_delete_template"),getLang("global_delete"),(function(){var t=e.selected,n={act:e.acts.remove,template_id:t,hash:e.hash};ajax.post("noSpam.php",n,{onDone:function(t,n){var a=ge(e.links);a.innerHTML=t,e.deselectTemplate(),e.templates=JSON.parse(n),isObject(e.templates)||removeClass(a,"template_links"),curBox().hide()},progress:"delete_condition"})}),getLang("global_cancel"))},selectTemplate:function(e){if(e){var t=this.templates[e];this.selected=e;var n=entityDecode(t.text);Object(r.setConditions)(n),this.label.innerHTML=t.title+": ",addClass(this.wrap,"template_selected")}},selectCommentTemplate:function(e){if(e){var t=this.templates[e];this.selected=e;var n=entityDecode(t.text);this.editComment(n),this.label.innerHTML=t.answer_name+": ",addClass(this.wrap,"template_selected")}},editComment:function(e){if(val(this.input,e),this.input.autosize)return this.input.autosize.update();autosizeSetup("comment_input",{minHeight:32})},getFromLocal:function(e){var t=localStorage.comments_templates_storage;ge("get_local_comments");try{t=JSON.parse(t)}catch(e){}return t?t&&e?(each(t,(function(e,t){var n=function(e,t){var n=ge("comment_template_links");hasClass(n,"template_links")||addClass(n,"template_links"),cur.comment.links.innerHTML=e,cur.comment.templates=JSON.parse(t)};setTimeout((function(){var e=t[1];ajax.post("noSpam.php",{act:"save_comment_template",title:e.name,text:e.comment,hash:opts.comment_hash,template_id:0},{onDone:n})}),1e3*e)})),curBox().hide()):void showBox("noSpam.php",{act:"apply_comments_export"},{params:{width:430,dark:1,progress:"export_progress"}}):showFastBox({title:"Перенос шаблонов",dark:1},"К сожалению, не удалось найти ни одного комментария.")},deselectTemplate:function(){var e=this.selected,t=this.templates[e];if(t){var n=entityDecode(this.templates[e].text);t&&this.input.value==n&&val(this.input,""),this.label.innerHTML=this.label_html,removeClass(this.wrap,"template_selected"),delete this.selected}},editSort:function(){var e={act:this.acts.sort,hash:this.hash};showBox("noSpam.php",e,{params:{width:430,dark:1,progress:"sort_template"}})},saveSort:function(e,t,n,a,o){var r=cur[e],i={hash:t,act:r.acts.sort_save,tid:n.id.replace("template",""),tpos:n.dataset.pos,after_id:a&&a.dataset?a.dataset.pos:"",before_id:o&&o.dataset?o.dataset.pos:""};ajax.post("noSpam.php",i,{onDone:function(e,t){box=curBox(),box.content(e[2]),box.evalBox(t),box.setOptions({onHide:function(){debugLog(e),r.links.innerHTML=e[0],r.templates=JSON.parse(e[1])}})},progress:"sort_template"})}};var s=n("b8yN");function c(e){var t=ge("console_item_"+e);hasClass(t,"green_item")&&removeClass(t,"green_item"),addClass(t,"red_item")}function l(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_docmail_spamer",uid:e,hash:t,act_type:n,spam_date:a,to_id:o,to_msg_id:r},{onDone:function(t){ge("rollback_docmail_spamer"+e).innerHTML=t,c(e)}})}function u(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_docwall_spamer",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,msg_id:r},{onDone:function(t){ge("rollback_docwall_spamer"+e).innerHTML=t,c(e)}})}function p(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_jpgmail_spamer",uid:e,hash:t,act_type:n,spam_date:a,to_id:o,to_msg_id_id:r},{onDone:function(t){ge("rollback_jpgmail_spamer"+e).innerHTML=t,c(e)}})}function d(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_jpgwall_spamer",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,msg_id:r},{onDone:function(t){ge("rollback_jpgwall_spamer"+e).innerHTML=t,c(e)}})}function _(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_pngmail_spamer",uid:e,hash:t,act_type:n,spam_date:a,to_id:o,to_msg_id:r},{onDone:function(t){ge("rollback_pngmail_spamer"+e).innerHTML=t,c(e)}})}function h(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_pngwall_spamer",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,msg_id:r},{onDone:function(t){ge("rollback_pngwall_spamer"+e).innerHTML=t,c(e)}})}function f(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_doc_spamer",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,doc_id:r},{onDone:function(t){ge("rollback_doc_spamer"+e).innerHTML=t,c(e)}})}function m(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_photo_spamer",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,photo_id:r},{onDone:function(t){ge("rollback_photo_spamer"+e).innerHTML=t,c(e)}})}function g(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_photo_spamer_from_wall",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,msg_id:r},{onDone:function(t){ge("rollback_photo_spamer"+e).innerHTML=t,c(e)}})}function v(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_photo_spamer_from_mail",uid:e,hash:t,act_type:n,spam_date:a,to_id:o,to_msg_id:r},{onDone:function(t){ge("rollback_photo_spamer"+e).innerHTML=t,c(e)}})}function b(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_video_spamer",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,video_id:r},{onDone:function(t){ge("rollback_video_spamer"+e).innerHTML=t,c(e)}})}function y(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_video_spamer_from_wall",uid:e,hash:t,act_type:n,spam_date:a,owner_id:o,msg_id:r},{onDone:function(t){ge("rollback_video_spamer"+e).innerHTML=t,c(e)}})}function w(e,t,n,a,o,r){ajax.post("noSpam.php",{act:"rollback_video_spamer_from_mail",uid:e,hash:t,act_type:n,spam_date:a,to_id:o,to_msg_id:r},{onDone:function(t){ge("rollback_video_spamer"+e).innerHTML=t,c(e)}})}var S="_console_item_field_text";function k(e){return se("<textarea>"+e+"</textarea>").value}function x(e){var t=document,n=t.getElementById(e);if(t.body.createTextRange)(a=t.body.createTextRange()).moveToElementText(n),a.select();else if(window.getSelection){var a,o=window.getSelection();(a=t.createRange()).selectNodeContents(n),o.removeAllRanges(),o.addRange(a)}}function C(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}function T(){var e="";return window.getSelection?e=window.getSelection():document.getSelection?e=document.getSelection():document.selection&&(e=document.selection.createRange().text),e}function O(e){var t=ge(e);return t.options[t.selectedIndex].value}function E(e,t,n,a){ajax.post("noSpam.php",{act:"a_block_domain",domain:e,type:t,hash:n,warn_users:isChecked("warn_users")||0,comment:ge("linksban_comment").value,link_ex:a},{onDone:function(n){ge("block_domain_1_"+e).innerHTML="",ge("block_domain_2_"+e).innerHTML="",ge("block_domain_3_"+e).innerHTML="",ge("block_domain_"+t+"_"+e).innerHTML=n}})}function D(e,t){ajax.post("noSpam.php",{act:"a_remove_fid_search",fid:e,hash:t},{onDone:function(t){ge("remove_fid_search_"+e).innerHTML=t}})}function I(e,t){ajax.post("noSpam.php",{act:"a_ban_fid_zero",fid:e,hash:t},{onDone:function(t){ge("ban_fid_zero_"+e).innerHTML=t}})}function j(e,t){ajax.post("noSpam.php",{act:"a_ban_fid_forever",fid:e,hash:t},{onDone:function(t){ge("ban_fid_forever_"+e).innerHTML=t}})}function B(){return window.nav&&window.nav.objLoc&&window.nav.objLoc.claim}function L(e){var t=domClosest(S,e);return!!t&&t.getAttribute("data-field")}},IXTq:function(e,t,n){"use strict";n.r(t),n.d(t,"SvgIcon",(function(){return d}));var a=n("q1tI"),o=n.n(a),r=n("CGal");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p={display:"block"};var d=function(e){var t=e.width,n=e.height,s=e.viewBox,l=e.id,d=e.className,_=e.style,h=e.fill,f=e.getRootRef,m=u(e,["width","height","viewBox","id","className","style","fill","getRootRef"]),g=Math.max(t,n),v=Object(a.useContext)(r.IconSettingsContext),b=function(e,t){for(var n=t.classPrefix,a=t.globalClasses,o="",r=0;r<e.length;r++)n&&(o+=" "+(n+e[r])),n&&!a||(o+=" "+e[r]);return o}(["Icon","Icon--".concat(g),"Icon--w-".concat(t),"Icon--h-".concat(n),"Icon--".concat(l)],v);return o.a.createElement("div",i({},m,{ref:f,className:"".concat(b," ").concat(d),style:c(c({},_),{},{width:t,height:n})}),o.a.createElement("svg",{viewBox:s,width:t,height:n,style:p},o.a.createElement("use",{xlinkHref:"#".concat(l),style:{fill:"currentColor",color:h}})))};d.defaultProps={className:"",style:{}}},W28y:function(e,t,n){"use strict";n.r(t),n.d(t,"PHP_SECOND",(function(){return a})),n.d(t,"PHP_MINUTE",(function(){return o})),n.d(t,"PHP_HOUR",(function(){return r})),n.d(t,"PHP_DAY",(function(){return i})),n.d(t,"PHP_WEEK",(function(){return s})),n.d(t,"PHP_MONTH",(function(){return c})),n.d(t,"PHP_YEAR",(function(){return l})),n.d(t,"MILLISECONDS_MULTIPLIER",(function(){return u})),n.d(t,"SECOND",(function(){return p})),n.d(t,"MINUTE",(function(){return d})),n.d(t,"HOUR",(function(){return _})),n.d(t,"DAY",(function(){return h})),n.d(t,"WEEK",(function(){return f})),n.d(t,"MONTH",(function(){return m})),n.d(t,"YEAR",(function(){return g})),n.d(t,"TARGET_BLANK",(function(){return v})),n.d(t,"EVENT_MOUSEDOWN",(function(){return b})),n.d(t,"EVENT_KEYDOWN",(function(){return y})),n.d(t,"EVENT_SCROLL",(function(){return w})),n.d(t,"EVENT_CLICK",(function(){return S})),n.d(t,"getCurrentUrl",(function(){return k})),n.d(t,"updateUrl",(function(){return x})),n.d(t,"getUrlParam",(function(){return C})),n.d(t,"getAct",(function(){return T})),n.d(t,"openInNewTab",(function(){return O})),n.d(t,"getTime",(function(){return E})),n.d(t,"getCurrentDayBoundaries",(function(){return D})),n.d(t,"getDayBoundaries",(function(){return I})),n.d(t,"timestampToSeconds",(function(){return j})),n.d(t,"showLoading",(function(){return B})),n.d(t,"hideLoading",(function(){return L})),n.d(t,"hideCurrentBox",(function(){return N})),n.d(t,"initRadioButtons",(function(){return M})),n.d(t,"isSpecialKeyPressed",(function(){return P})),n.d(t,"isIntegerString",(function(){return H}));var a=1,o=60,r=3600,i=86400,s=604800,c=2592e3,l=31536e3,u=1e3,p=a*u,d=o*u,_=r*u,h=i*u,f=i*u,m=c*u,g=l*u,v="_blank",b="mousedown",y="keydown",w="scroll",S="click";function k(){return nav.strLoc}function x(e){var t={0:nav.objLoc[0],act:nav.objLoc.act};nav.setLoc(extend(t,e))}function C(e){return nav.objLoc[e]}function T(){return C("act")}function O(e){window.open(e,"_blank").focus()}function E(){return j(Date.now())}function D(){return I((new Date).getTime())}function I(e){var t=new Date(e),n=new Date(e);return t.setHours(0,0,0,0),n.setHours(23,59,59,999),[t.getTime(),n.getTime()]}function j(e){return Math.floor(e/u)}function B(){var e=new MessageBox;e.setOptions({title:!1,hideButtons:!0}).show(),hide(boxLayerBG),hide(e.bodyNode),show(boxLoader),boxRefreshCoords(boxLoader)}function L(){curBox&&curBox()&&curBox().hide()}function N(){curBox().hide()}function M(e,t,n){window.radioBtns[e]={val:n,els:Array.prototype.slice.apply(geByClass("radiobtn",geByClass1(t)))}}function P(e){return e.ctrlKey||e.metaKey&&browser.mac}function H(e){return/^-?(0|[1-9]\d*)$/.test(e)}},XRX7:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),r=n("ylNO"),i=n.n(r),s=n("nv/5"),c=n("mWs8"),l=n("IXTq"),u="help_outline_16",p=!1;function d(){p||(Object(c.addSpriteSymbol)(new i.a({id:u,viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="help_outline_16"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 8a5.5 5.5 0 1011 0 5.5 5.5 0 00-11 0zM8 1a7 7 0 100 14A7 7 0 008 1z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M8 5.15a.85.85 0 00-.823.637.75.75 0 01-1.453-.374A2.35 2.35 0 0110.35 6c0 1.036-.566 1.578-.963 1.948-.39.363-.586.55-.645.958a.75.75 0 01-1.484-.212c.134-.942.685-1.453 1.05-1.79l.055-.052c.353-.33.487-.488.487-.852A.85.85 0 008 5.15z" fill="currentColor" /><path d="M8.75 11.15a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" fill="currentColor" /></symbol>'})),p=!0)}var _=function(e){return Object(c.useIsomorphicLayoutEffect)((function(){d()}),[]),o.a.createElement(l.SvgIcon,Object(s.assign)({},e,{viewBox:"0 0 16 16",id:u,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};_.mountIcon=d,t.default=_},aqR2:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return P})),n.d(t,"isEnabled",(function(){return H}));var a=n("q1tI"),o=n.n(a),r=n("i8i4"),i=n.n(r),s=n("dV62");function c(e){var t,n=window.getSelection();if(n&&n.focusNode){var a,o,r,i,s,c=Array.prototype.slice.call(e.childNodes),l=null===(t=n.anchorNode)||void 0===t?void 0:t.parentNode,u=c.indexOf(l),p=n.focusOffset,d=0,_=0;if("Range"===n.type&&(a=n.getRangeAt(0),o=c.indexOf(a.startContainer.parentNode),r=c.indexOf(a.endContainer.parentNode),i=a.startOffset,s=a.endOffset,p=i,u=o),u){for(var h=0;h<u;h++)d+=c[h].textContent.length;d+=p}else 0===u&&(d=p);if(r&&r>=0){for(var f=r;f<c.length;f++)f===r?_=c[r].textContent.length-s:_+=c[f].textContent.length;_=e.innerText.length-_}else 0===r&&(_=s);return{startIndex:u,offset:p,textStart:d,textEnd:_,type:n.type,rangeStartIndex:o,rangeEndIndex:r,rangeStartOffset:i,rangeEndOffset:s}}}function l(e,t){if(void 0!==e.startIndex&&-1!==e.startIndex){var n=window.getSelection(),a=e,o=document.createRange();t&&(o.setStart(t.childNodes[a.startIndex].firstChild,a.offset),n.removeAllRanges(),n.addRange(o))}}var u,p=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=["Enter","Tab","ArrowRight","ArrowDown","ArrowUp"],_=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.handleChange=function(e){var t,n=this.props;switch(e.type){case"keydown":if(n.suggestActive&&d.includes(e.key)){switch(e.preventDefault(),e.key){case"Enter":case"Tab":case"ArrowRight":n.onHotkeyInput(j.suggestEnter);break;case"ArrowDown":n.onHotkeyInput(j.suggestSelectDown);break;case"ArrowUp":n.onHotkeyInput(j.suggestSelectUp)}return}if(~["'","!","("].indexOf(e.key)&&!(null===(t=null===window||void 0===window?void 0:window.getSelection())||void 0===t?void 0:t.isCollapsed))return e.preventDefault(),void n.wrapSelecion(e.key);if((e.ctrlKey||e.metaKey)&&90==e.which){e.preventDefault();var a=e.shiftKey?j.redo:j.undo;return void n.onHotkeyInput(a)}if("Enter"===e.key)return e.preventDefault(),void n.onTextInput(I.insert,"\n");e.key.length<2&&!(e.ctrlKey||e.metaKey||e.altKey)&&(e.preventDefault(),n.onTextInput(I.insert,e.key));break;case"keyup":"Backspace"!==e.key&&"Delete"!==e.key||n.onTextInput(I.sync);break;case"paste":var o=e;o.preventDefault();var r=o.clipboardData;r&&n.onTextInput(I.insert,r.getData("Text"))}},t.prototype.handleSelect=function(e){var t=c(e.target),n=0;t&&"Range"==t.type&&(n=t.textEnd-t.textStart),this.props.updateSelectionLength(n)},t.prototype.shouldComponentUpdate=function(e){return this.props.currentText!==e.currentText},t.prototype.componentDidUpdate=function(){var e=this.props,t=i.a.findDOMNode(this);if(function(e,t,n){if(e>=t||-1===e){if(0===t)return;var a=n.childNodes.length-1;l({offset:n.childNodes[a].textContent.length,startIndex:a},n)}else{for(var o,r,i=0,s=0;s<n.childNodes.length;s++)if((i+=n.childNodes[s].textContent.length)>=e){o=s,r=e-(i-n.childNodes[s].textContent.length);break}l({offset:r,startIndex:o},n)}}(e.caretPosition,e.currentText.length,t),e.updateMode===I.history)return null;var n=c(t);e.updateHistory(n)},t.prototype.render=function(){var e=this.props;return o.a.createElement("div",{className:"Input",contentEditable:"true",suppressContentEditableWarning:!0,spellCheck:!1,style:{width:380,height:"auto",minHeight:75,borderRadius:"2px 2px 0 0",fontFamily:'Roboto Mono, Monaco, "Andale Mono", "Lucida Console", "Courier New", Courier, monospace',lineHeight:"130%",fontSize:"11px"},onKeyDown:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),onPaste:this.handleChange.bind(this),onSelect:this.handleSelect.bind(this),dangerouslySetInnerHTML:{__html:e.lexedHTML},placeholder:"Дополнительные условия"})},t}(o.a.Component),h=n("oj6k"),f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m="ClearRestoreInputButton",g=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.handleClick=function(){this.props.handleClearRestore()},t.prototype.render=function(){var e=this.props.clearRestoreStatus?m+" "+m+"--active":m;return o.a.createElement("span",{className:e,onClick:this.handleClick.bind(this)},o.a.createElement(h.default,null))},t}(o.a.Component),v=n("wiul"),b=n("5soy"),y=n("XRX7"),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=function(e){function t(t){return e.call(this,t)||this}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.charCountLimitReached?"Controls__charCount Controls__charCount--reachedLimit":"Controls__charCount";return o.a.createElement("div",{className:"Controls"},o.a.createElement("span",{className:"Controls__conditionsOnly",onClick:e.conditionsOnly.bind(this)},o.a.createElement(v.default,null)),o.a.createElement("span",{className:"Controls__removeSpaces",onClick:e.removeSpaces.bind(this)},o.a.createElement(b.default,null)),o.a.createElement("span",{className:"Controls__unifyBlocks",onClick:e.unifyBlocks.bind(this)},"IN"),o.a.createElement("span",null),o.a.createElement("span",{className:t},e.charCount,o.a.createElement(k,{length:e.selectionLength})),o.a.createElement("span",{className:"Controls__helpButton",onClick:e.helpPopup.bind(this)},o.a.createElement(y.default,null)),o.a.createElement(g,{handleClearRestore:e.handleClearRestore,clearRestoreStatus:e.clearRestoreStatus}))},t}(o.a.Component);function k(e){return 0===e.length?null:o.a.createElement("span",null," (",e.length,")")}var x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),C=function(e){function t(t){return e.call(this,t)||this}return x(t,e),t.prototype.handleSelect=function(){var e=this.props;e.selectSuggestion(e.fieldName)},t.prototype.render=function(){var e=this.props,t="Suggestion";return e.isSelected&&(t+=" Suggestion--selected"),o.a.createElement("div",{className:t,key:e.fieldName,onClick:this.handleSelect.bind(this)},e.fieldName)},t}(o.a.Component),T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),O=function(e){function t(t){return e.call(this,t)||this}return T(t,e),t.prototype.renderSuggestions=function(){var e=this,t=this.props,n=t.suggestVariantSelected;return t.suggestVariants.map((function(a){var r=n===a;return o.a.createElement(C,{selectSuggestion:t.selectSuggestion.bind(e),isSelected:r,fieldName:a,key:a})}))},t.prototype.componentDidUpdate=function(){var e,t,n=i.a.findDOMNode(this),a=null===(t=null===(e=null===window||void 0===window?void 0:window.getSelection())||void 0===e?void 0:e.focusNode)||void 0===t?void 0:t.parentElement;if(n&&a){var o=a.getBoundingClientRect();n.style.top=Number(a.offsetTop+o.bottom-o.top)+"px",n.style.left=Number(a.offsetLeft-5)+"px"}},t.prototype.render=function(){return 0===this.props.suggestVariants.length?null:o.a.createElement("div",{className:"SuggestBox"},this.renderSuggestions())},t}(o.a.Component);n("rGqo"),n("Btvt"),n("SRfc");function E(e){for(var t="",n=0;n<e.length;n++)switch(e[n].type){case"space":t+='<span class="Input__space">'+e[n].text+"</span>";break;case"field":t+='<span class="Input__field">'+e[n].text+"</span>";break;case"text_start":t+='<span class="Input__textStart">'+e[n].text+"</span>";break;case"text":t+='<span class="Input__text">'+e[n].text+"</span>";break;case"text_end":t+='<span class="Input__textEnd">'+e[n].text+"</span>";break;case"operator":t+='<span class="Input__operator">'+e[n].text+"</span>";break;case"comma":t+='<span class="Input__comma">'+e[n].text+"</span>";break;case"function":t+='<span class="Input__function">'+e[n].text+"</span>";break;case"number":t+='<span class="Input__number">'+e[n].text+"</span>";break;case"block_start":t+='<span class="Input__blockStart">'+e[n].text+"</span>";break;case"block_end":t+='<span class="Input__blockEnd">'+e[n].text+"</span>";break;default:t+='<span class="Input__genericText">'+e[n].text+"</span>"}return t}function D(e,t,n){for(var a=function(e){for(var t=[],n=[],a=[],o=null,r=0,i=0;i<e.length;i++){switch(e[i]){case" ":case"\n":o="space";break;case"@":o="function";break;case"(":o="block_start";break;case")":o="block_end";break;case"&":case"|":case"!":case"~":case"+":case"-":case"*":case"/":case"%":case"<":case">":case"=":case"^":o="operator";break;case",":o="comma";break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case".":o="number";break;case"'":switch(n[r]){case"text":case"text_start":o="text_end";break;default:o="text_start"}break;default:o="field"}i?"text"!==n[r]&&"text_start"!==n[r]||"text_end"===o?"function"===n[r]&&"field"===o?(n[r]="function",t[r]+=e[i]):n[r]!==o||"block_start"===n[r]||"block_end"===n[r]?(t[++r]=e[i],n[r]=o):t[r]+=e[i]:(n[r]="text",t[r]+=e[i]):(t[r]=e[i],n[r]=o)}for(var s=0;s<t.length;s++)a[s]={text:t[s],type:n[s]};return a}(e),o=0;o<a.length;o++)switch(a[o].type){case"field":t.common_fields.hasOwnProperty(a[o].text)||t.fields[n].hasOwnProperty(a[o].text)||(a[o].type="generic_text"),"IN"===a[o].text&&(o>0&&"space"===a[o-1].type?(a.splice(o,1),a[o-1].text=" IN",a[o-1].type="operator",o++):a[o].type="operator");break;case"text_end":a[o].type="text",a[o].text=a[o-1].text+"'",a.splice(o-1,1);break;case"function":for(var r=a[o].text,i=[],s=void 0,c=0;r.length>0;){if(/(@.+?)\b/.test(r)){s=r.match(/(@.+?)\b/)[0];for(var l=0;l<t.functions.length;l++)~s.indexOf(t.functions[l])&&(r=r.slice(t.functions[l].length),i.push({text:t.functions[l],type:"function"}))}i.length>c?c++:(t.common_fields.hasOwnProperty(r)||t.fields[n].hasOwnProperty(r)?i.push({text:r,type:"field"}):i.push({text:r,type:"generic_text"}),r="")}i.length>0&&a.splice.apply(a,[o,1].concat(i));break;case"operator":var u=void 0;~["&&!","&&-","&&~","||!","||-","||~"].indexOf(a[o].text)&&(u=a[o].text,a[o].text=a[o].text.slice(0,2),a.splice(o+1,0,{text:u.slice(-1),type:"operator"}))}return a}var I,j,B=function(){function e(){this.statesQueue=[],this.currentStateIndex=null,this.lastTimeStateAdded=0}return e.prototype.saveState=function(e){var t=(new Date).getTime();t-this.lastTimeStateAdded>3e3?(this.currentStateIndex!=this.statesQueue.length-1&&this.clearStatesAfterCurrent(),30===this.statesQueue.length&&this.statesQueue.shift(),this.statesQueue.push(e),null===this.currentStateIndex?this.currentStateIndex=this.statesQueue.length-1:this.currentStateIndex++,this.lastTimeStateAdded=t):this.statesQueue[this.statesQueue.length-1]=e},e.prototype.getState=function(e){return null!==this.currentStateIndex&&this.statesQueue[e]?this.statesQueue[e]:null},e.prototype.getPreviousState=function(){return null===this.currentStateIndex||0===this.currentStateIndex?null:(this.indexDecrement(),this.getState(this.currentStateIndex))},e.prototype.getNextState=function(){return null===this.currentStateIndex||this.currentStateIndex===this.statesQueue.length-1?null:(this.indexIncrement(),this.getState(this.currentStateIndex))},e.prototype.clearStatesAfterCurrent=function(){if(null===this.currentStateIndex)return null;this.statesQueue=this.statesQueue.slice(0,this.currentStateIndex),this.currentStateIndex=0!==this.statesQueue.length?this.statesQueue.length-1:null},e.prototype.indexIncrement=function(){null!==this.currentStateIndex&&(this.currentStateIndex=this.currentStateIndex<this.statesQueue.length-1?this.currentStateIndex+1:this.statesQueue.length-1)},e.prototype.indexDecrement=function(){null!==this.currentStateIndex&&(this.currentStateIndex=this.currentStateIndex>0?this.currentStateIndex-1:0)},e}(),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();!function(e){e.refresh="refresh",e.append="append",e.insert="insert",e.suggested="suggested",e.history="history",e.clear="clear",e.restore="restore",e.sync="sync"}(I||(I={})),function(e){e.suggestEnter="suggestEnter",e.suggestSelectUp="suggestSelectUp",e.suggestSelectDown="suggestSelectDown",e.undo="undo",e.redo="redo"}(j||(j={}));var N=function(e){function t(t){var n=e.call(this,t)||this,a=D(t.initialText,t.syntaxDictionary,t.initialSection);return n.history=new B,n.state={currentText:t.isTextStored?"":t.initialText,storedText:t.isTextStored?t.initialText:"",currentSection:t.initialSection,updateMode:I.refresh,lexedArray:a,lexedHTML:E(a),reachedLengthLimit:!1,caretPosition:0,selectionLength:0,suggestActive:!1,suggestVariants:[],suggestVariantSelected:""},n}return L(t,e),t.prototype.getPlainText=function(){return this.state.currentText},t.prototype.handleHotkeys=function(e){var t=this.state;switch(e){case j.suggestEnter:this.handleEnterSuggestion(t.suggestVariantSelected);break;case j.suggestSelectUp:case j.suggestSelectDown:var n=t.suggestVariants.indexOf(t.suggestVariantSelected),a=n-1<0?t.suggestVariants.length-1:n-1,o=n+1===t.suggestVariants.length?0:n+1,r=e===j.suggestSelectUp?a:o;this.setState({suggestVariantSelected:t.suggestVariants[r]});break;case j.undo:case j.redo:var i=e===j.undo?this.history.getPreviousState():this.history.getNextState();if(!i)return;this.update(I.history,i.text,i.selection)}},t.prototype.createSuggestions=function(e){var t=[],n="",a=e.text;if("generic_text"===e.type){var o=a.startsWith("@")?"functions":"fields";t=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=[],r=[];"functions"===t?r=n[t]:"fields"===t&&(r=Object.keys(n[t][a]).concat(Object.keys(n.common_fields)));for(var i=0;i<e.length;i++){for(var s=0;s<r.length;s++)e.slice(0,i+1)===r[s].slice(0,i+1)&&o.push(r[s]);r=o.slice(0),o=[]}return r}(a,o,this.props.syntaxDictionary,this.state.currentSection)}return 0!==t.length&&(n=t[0]),{variants:t,variantSelected:n}},t.prototype.handleEnterSuggestion=function(e){this.update(I.suggested,e)},t.prototype.update=function(e,t,n){var a,o;void 0===t&&(t="");var r=this.state,i=this.props,s=this.getInputElement(),l=(null==(n=n||c(s))?void 0:n.textStart)||0,u="",p=r.storedText,d=r.currentText.slice(0,l),_=r.currentText.slice(l);if(n&&"Range"===n.type){var h=function(e,t,n){for(var a=0,o=e.rangeEndIndex-e.rangeStartIndex,r="",i="",s=0,c=0;c<o;c++)a+=t.childNodes[e.rangeStartIndex+c].textContent.length;a+=e.rangeEndOffset-e.rangeStartOffset;for(var l=0;l<e.rangeStartIndex;l++)s+=t.childNodes[l].textContent.length;s+=e.rangeStartOffset;for(var u=0;u<s;u++)r+=n[u];for(var p=s+a;p<n.length;p++)i+=n[p];return{textStart:s,textBefore:r,textAfter:i}}(n,s,r.currentText);l=h.textStart,d=h.textBefore,_=h.textAfter}switch(e){case I.history:case I.refresh:u=t||r.currentText;break;case I.insert:l+=t.length,u=d+t+_;break;case I.append:l=-1,u=0!==r.currentText.length?r.currentText+" && "+t:t;break;case I.suggested:var f=null===(o=null===(a=window.getSelection())||void 0===a?void 0:a.focusNode)||void 0===o?void 0:o.parentElement,m=null==f?void 0:f.innerHTML.length;if(!m)break;l=r.caretPosition-m+t.length,u=r.currentText.slice(0,r.caretPosition-m)+t+r.currentText.slice(r.caretPosition);break;case I.clear:u="",p=r.currentText;break;case I.restore:u=r.storedText,p="",l=-1;break;case I.sync:u=s.innerText}var g=D(u=u.replace(/^\n$/,""),i.syntaxDictionary,r.currentSection),v=E(g),b=function(e,t){for(var n=0,a=0;a<e.length;a++)if((n+=e[a].text.length)>=t)return a;return 0}(g,l),y=null,w=[],S="";g[b]&&l>0&&(w=(y=this.createSuggestions(g[b])).variants,S=y.variantSelected),this.setState({currentText:u,caretPosition:l,lexedArray:g,lexedHTML:v,suggestVariants:w,suggestVariantSelected:S,updateMode:e,storedText:p})},t.prototype.handleClearRestore=function(){var e=this.state;0===e.storedText.length?0!==e.currentText.length&&this.update(I.clear):this.update(I.restore)},t.prototype.updateHistory=function(e){this.history.saveState({text:this.state.currentText,selection:e})},t.prototype.callHelpPopup=function(){var e=this.props.partIndex?Number(this.props.partIndex):"";this.props.helpFunction(e)},t.prototype.setSection=function(e){this.setState({currentSection:e}),this.update(I.refresh,this.state.currentText)},t.prototype.getEditorState=function(){return this.state},t.prototype.setEditorState=function(e){this.setState(e)},t.prototype.setSelectionLength=function(e){this.setState({selectionLength:e})},t.prototype.showConditionOnly=function(){},t.prototype.removeSpacesFromText=function(){var e="";this.state.lexedArray.forEach((function(t){"space"!==t.type&&(e+=t.text)})),this.update(I.refresh,e)},t.prototype.unifySameFieldBlocks=function(){},t.prototype.wrapSelection=function(e){var t="",n="",a=this.state.currentText;switch(e){case"'":t=e,n=e;break;case"!":t="!(",n=")";break;case"(":t="(",n=")"}var o=c(this.getInputElement());if(o){var r=a.slice(0,o.textStart)+t+a.slice(o.textStart,o.textEnd)+n+a.slice(o.textEnd);this.update(I.refresh,r)}},t.prototype.getInputElement=function(){var e=i.a.findDOMNode(this);return null==e?void 0:e.querySelector(".Input")},t.prototype.render=function(){var e=this.state;return o.a.createElement("div",{className:"ConditionsEditor"},o.a.createElement(_,{currentText:e.currentText,caretPosition:e.caretPosition,onTextInput:this.update.bind(this),onHotkeyInput:this.handleHotkeys.bind(this),suggestActive:0!==e.suggestVariants.length,lexedHTML:e.lexedHTML,updateHistory:this.updateHistory.bind(this),updateMode:e.updateMode,updateSelectionLength:this.setSelectionLength.bind(this),wrapSelecion:this.wrapSelection.bind(this),"data-placeholder":"�������������� �������"}),o.a.createElement(O,{selectSuggestion:this.handleEnterSuggestion.bind(this),suggestVariants:e.suggestVariants,suggestVariantSelected:e.suggestVariantSelected}),o.a.createElement(S,{handleClearRestore:this.handleClearRestore.bind(this),clearRestoreStatus:0!==e.storedText.length,charCount:e.currentText.length,selectionLength:e.selectionLength,charCountLimitReached:e.currentText.length>2050,helpPopup:this.callHelpPopup.bind(this),conditionsOnly:this.showConditionOnly.bind(this),removeSpaces:this.removeSpacesFromText.bind(this),unifyBlocks:this.unifySameFieldBlocks.bind(this)}))},t}(o.a.Component),M=n("W9Tc");function P(e){if(H()){var t=JSON.parse(e);["","2"].forEach(e=>{var n="ConditionsEditor"+e,o="uiSpamtype"+e;Object(s.registerReactApplication)(n,e=>{r.render(a.createElement(N,{initialText:e.currentText,isTextStored:e.isTextStored,partIndex:e.partIndex,syntaxDictionary:t,initialSection:cur[o].val(),ref:e=>window[n]=e,helpFunction:window.noSpamConsole.getConditionsHint}),document.getElementById(s.rootId+n))})})}}function H(){return Object(M.partConfigEnabled)("nospam_use_new_conditions_editor")}},awNS:function(e,t,n){"use strict";n.r(t),n.d(t,"consoleWrap",(function(){return a})),n.d(t,"patternWrap",(function(){return o})),n.d(t,"reportList",(function(){return r})),n.d(t,"reportTabs",(function(){return i})),n.d(t,"tabReports",(function(){return h})),n.d(t,"tabPattern",(function(){return f})),n.d(t,"tabPatterns",(function(){return m})),n.d(t,"switchTab",(function(){return g})),n.d(t,"getCurrentTab",(function(){return v})),n.d(t,"activeTab",(function(){return b})),n.d(t,"getCustomOption",(function(){return w})),n.d(t,"init",(function(){return x}));var a,o,r,i,s,c=n("4Ch9"),l=n("b8yN"),u=n("uRA3"),p=n("W28y"),d=n("ofcU"),_=n("aqR2"),h="reports",f="pattern",m="patterns";function g(e,t){var n=geByClass1("_nospam_tab_switch_"+e);uiTabs.switchTab(domFC(n)),t&&(n=domChildren(n));var a=geByClass("nospam_tab"),o=domData(n,"tab-id");return a.forEach((function(e){domData(e,"id")!=o?hide(e):show(e)})),Object(p.updateUrl)({tab:e}),e===m?u.noSpamPatterns.initUpdate():e===h?l.noSpamReports.initUpdate():e===f&&scrollToTop(),!1}function v(){return Object(p.getUrlParam)("tab")}function b(){var e=domPN(geByClass1("ui_tab_sel"));return domData(e,"tab-id")}function y(e){geByClass("_nospam_option_action",s).forEach(t=>{var n=domData(t,"option"),a=+e[n],o=window.cur.lang["nospam_options_"+n];o&&(t.innerHTML=o[a]),domData(t,"option-state",a)}),cur.options.custom_options=e}function w(e){var t=window.cur;return!!t.options.custom_options&&t.options.custom_options[e]}function S(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o={width:185,height:500,multiselect:!1};return Object(_.isEnabled)()&&e.includes("spamtype")&&extend(o,{onChange:e=>{window["ConditionsEditor"+a].setSection(e)}}),new Dropdown(document.getElementById(e),t,extend(o,{selectedItems:n}))}function k(e){extend(cur,{uiSpamtype:S("spamtype",e.spamtypes,cur.options.spamtype),uiSpamtype2:S("spamtype2",e.spamtypes,cur.options.spamtype),uiSimplify:S("simplify_select",e.simplifies,cur.options.simplify),uiBan:S("ban_select",e.bans,cur.options.ban),uiDuration:S("duration_select",e.durations,cur.options.duration),uiSearchPeriod:S("search_period_select",e.searchperiods,cur.options.searchperiod)}),placeholderSetup("comment_input"),val("comment_input")&&autosizeSetup("comment_input",{minHeight:30}),geByClass("conditions_input").forEach((function(e){placeholderSetup("comment_input"),val(e)&&autosizeSetup("comment_input",{minHeight:30})}));var t=ge("page_body");o=geByClass1("pattern_wrap",t),a=geByClass1("console_wrap",t),i=geByClass1("reports_tabs",t),r=geByClass1("_reports_list",t),s=geByClass1("_nospam_options",t);var n=geByClass1("nospam_patterns_wrap",t),p=Object(d.createModule)({handlers:(e,t)=>{t(n,"click","_abort_pattern_mild",e=>Object(u.abortPatternMild)(domData(e.target,"id"))),t(s,"click","_nospam_option_action",e=>{return t=e.target,n={act:"a_set_custom_option",name:domData(t,"option"),state:1^domData(t,"option-state")},void ajax.post("noSpam.php",n,{onDone:y,showProgress:lockActionsMenuItem.pbind(t),hideProgress:unlockActionsMenuItem.pbind(t)});var t,n})}});cur.destroy.push(()=>{Object(d.destroyModule)(p)}),Object(c.mount)(),Object(l.mount)()}function x(e){var t=Object(d.createMutations)(k);t.callMutations;(0,t.bindMutations)(e)}},b8yN:function(e,t,n){"use strict";n.r(t),n.d(t,"activeReportsType",(function(){return b})),n.d(t,"activeSubReportsType",(function(){return y})),n.d(t,"prepareReport",(function(){return w})),n.d(t,"switchReports",(function(){return S})),n.d(t,"dealSingleSpamer",(function(){return D})),n.d(t,"reportsTime",(function(){return j})),n.d(t,"onFiltersChange",(function(){return M})),n.d(t,"mount",(function(){return P})),n.d(t,"noSpamReports",(function(){return H}));n("HEwt"),n("a1Th"),n("rE2o"),n("ioFf"),n("Vd3H"),n("KKXr"),n("rGqo"),n("Btvt");var a,o=n("1BRX"),r=n("4Ch9"),i=n("awNS");function s(){a=(new Date).getTime()}function c(){var e=(new Date).getTime(),t=(e-a)/1e3,n=Array.prototype.slice.call(arguments);n.push(t),debugLog.apply(null,n)}var l=n("W28y"),u=n("ofcU");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _=["botscore","hacked_score","secondary_score"],h={},f={},m=new Date,g=setTimeout(null),v=0;function b(){var e=geByClass1("active_filter",i.reportTabs);return domData(e,"type")}function y(){var e=geByClass1("_reports_subtabs",i.reportTabs),t=geByClass1("active_filter",e);return domData(t,"subtype")}function w(e,t){s();var n=geByClass1("_report_btn_update",i.reportList);if(!isButtonLocked(n)){var a=geByClass1("_reports_"+e+"_wrap",i.reportList);if(a){var o={act:"a_get_reports",encode_entities:1,type:e,sub_type:t,shift:cur.options.shift};"mail"===e&&"mail_group"===t&&(o=extend(o,function(){if("mail"===e||"mail_group"===t){var n=geByClass1("filters");return{hide_groups_with_disabled_messages:isChecked(geByClass1("hide_groups_with_disabled_messages_filter",n)),shift:isObject(cur.hoursShiftSlider)?23*cur.hoursShiftSlider._currValue:0,min_reporters_amount:val(geByClass1("min_reports_amount_filter",n)),sorting:radioval("group_messages_reports_sorting")}}console.log("Unsupported filters used")}())),ajax.post("noSpam.php",o,{onDone:function(t){if(c("actions fetch"),h={},0!==t.length){for(var n=0;n<t.length;n++){var o=t[n];o.ui_type=e;var r=k(o.ui_type,n);L(o.ua_hash,o.agent_name),delete o.agent_name,delete o.remix_seed,o.index=n,h[r]=o}a.innerHTML="",x(e,0),t=""}else a.innerHTML=getTemplate("nospam_reports_type_search_empty")},onFail:function(e){c("actions fetched fail"),topError(e),a.innerHTML=getTemplate("nospam_reports_type_search_error")},showProgress:lockButton.pbind(n),hideProgress:unlockButton.pbind(n)}),scrollToTop()}else topError("Can't find wrap for type: "+e)}}function S(e){var t=e.target,n=domData(t,"type"),a=domData(t,"subtype"),o=geByClass("report_filter",i.reportTabs),r=geByClass("report_subfilter",i.reportTabs),s=geByClass1("active_type",i.reportList);if(!n)return!1;o.forEach(e=>{hasClass(e,"active_filter")&&removeClass(e,"active_filter"),domData(e,"type")!==n||domData(e,"subtype")||addClass(e,"active_filter")});var c=!1,l=!1;r.forEach(e=>{removeClass(e,"report_subfilter_active"),removeClass(e,"active_filter"),domData(e,"type")===n&&(addClass(e,"report_subfilter_active"),c=!0),domData(e,"subtype")===a&&(addClass(e,"active_filter"),l=!0)});var u=geByClass1("hr",i.reportTabs);if(c?show(u):hide(u),c&&!l){var p=geByClass1("report_subfilter_active",i.reportTabs);addClass(p,"active_filter")}domData(s,"type")!==n&&(removeClass(s,"active_type"),addClass(ge("reports_"+n),"active_type")),w(n,a)}function k(e,t){return"report_"+e+"_"+t}function x(e,t,n){s(),n||(n=20);for(var a=geByClass1("_reports_"+e+"_wrap",i.reportList),o=domPN(a),r=geByClass1("_reports_type_show_more",o),l=0,u=0,d=0;l<n;){u=d,d++;var _=k(e,u),f=h[_];if(!(u<t)){if("object"!=typeof f){debugLog("empty reports after "+u,"need to shift "+t);break}if(f.uid&&!0!==f.showed){var m=ce("div",{id:"report_"+e+"_"+u});if(addClass(m,"clear_fix"),addClass(m,"report"),f.mem_banned||f.uid_base_info){if(Object(i.getCustomOption)("hide_banned"))continue;addClass(m,"banned")}f.ui_type=e;[O(f),p(T(f),1)[0],E(f,u)].forEach((function(e){m.appendChild(e)})),a.appendChild(m),l++}}}if(0!==l){r?isVisible(r)||show(r):(r=ce("div",{className:"reports_type_show_more _reports_type_show_more"}),o.appendChild(r));var g=parseInt(t)+20;r.innerHTML=getTemplate("nospam_reports_show_more",{need_shift:g}),c("actions to html")}else hide(r)}function C(){var e=getSelectionText();e?cur.uiSimplify.selectItem("0"):(e="/",cur.uiSimplify.selectItem("32")),val("pattern_input",e)}function T(e){var t,n="",a=e.type_name,o=parseInt(e.type),r=ce("div");addClass(r,"report_body"),e.api_id>0&&(setStyle(r,"color","#bbbbbb"),n+=e.api_id>0?'<div class="report_api">Приложение ('+e.api_id+"):</div>":""),e.message&&(n+=getTemplate("nospam_reports_field",{class:"report_message",value:e.message})),e.kludges&&(n+=getTemplate("nospam_reports_field",{class:"reports_kludges",value:e.kludges})),e.attaches&&(n+=getTemplate("nospam_reports_attaches",{attaches:e.attaches}));var i="";switch(o){case 500:case 510:case 545:t="<a href='/wall"+e.owner_id+"_"+e.msg_id+"' target='_blank'> "+a+"</a>";break;case 501:case 550:t="<a href='/wall"+e.owner_id+"_"+e.parent_id+"?reply="+e.msg_id+"' target='_blank'> "+a+"</a>",e.group_id&&e.group_link&&(n+=getTemplate("nospam_reports_group_id",{group_id:e.group_id,group_link:e.group_link}));break;case 100:e.score&&e.score.hasOwnProperty("phone_cheat")&&(i+=getTemplate("nospam_reports_score_block",{label:"phone_cheat",score:e.score.phone_cheat})),e.update_time&&(n+=getTemplate("nospam_reports_tag",{tag_label:e.update_time}));break;case 200:n+=getTemplate("nospam_reports_labeled_value",{label:"receivers_num",value:e.receivers_num}),n+=getTemplate("nospam_reports_labeled_value",{label:"chat_msg_id",value:e.chat_msg_id}),n+=getTemplate("nospam_reports_labeled_value",{label:"chat_title",value:e.chat_title});break;case 300:if(e.group_id&&e.group_link&&(n+=getTemplate("nospam_reports_group_id",{group_id:e.group_id,group_link:e.group_link})),e.admin_id&&e.admin_link){var s=e.admin_id;n+=getTemplate("nospam_reports_admin_id",{admin_id:s,admin_link:e.admin_link})}break;case 160:n+=e.title;break;case 161:n+=e.new_title;break;case 200:e.attaches;-152029297==e.uid&&e.original_user_link&&(n+=getTemplate("nospam_reports_molodec_label",{original_user_link:e.original_user_link}));case 2602:case 2647:t="<a href='/video"+e.owner_id+"_"+e.video_id+"' target='_blank'> "+a+"</a>";break;case 2600:case 2610:case 2611:case 2645:case 2650:t="<a href='/video"+e.owner_id+"_"+e.video_id+"' target='_blank'> "+a+"</a>",n+='<table class="report_video"><tr>',n+='<td style="width: 130px;"><a class="report_video_thumb" href="'+e.video.href+'" onclick="'+e.video.onclick+'" style="background-image: url(\''+e.video.thumb+'\')"><div class="report_video_duration"><span class="report_video_icon"></span><span class="report_video_duration_text">'+e.video.duration_text+"</span></div></a></td>",n+="<td>",n+=e.video.DELETED?"Видеозапись удалена":'<div class="report_video_title"><a href="'+e.video.href+'" onclick="'+e.video.onclick+'">'+e.video.title_short+"</a></div>",n+=!e.video.DELETED&&e.description?'<div class="report_video_description">'+e.video.description_short+"</div>":"",n+="</td>",n+="</tr></table>",n+='<div class="report_video_duration_second"><b>Duration:</b> <a class="_console_conditions" data-conditions="duration = '+e.duration+'">'+e.duration+"</a></div>",e.external&&(n+='<div class="report_video_external"><b>External:</b> '+e.external+"</div>");break;case 3504:case 3545:t="<a href='/photo"+e.owner_id+"_"+e.photo_id+"' target='_blank'> "+a+"</a>";break;case 13120:case 13121:t="<a href='/market"+e.owner_id+"?w=product"+e.owner_id+"_"+e.item_id+"' target='_blank'> "+a+"</a>";break;case 3500:case 3547:t="<a href='/photo"+e.owner_id+"_"+e.photo_id+"' target='_blank'> "+a+"</a>",n+='<table class="report_photo"><tr>',n+='<td><div class="report_photo_thumb">'+e.photo+"</div></td>",n+=e.description?'<td><div class="report_photo_description">'+e.description+"</div></td>":"",n+="</tr></table>",n+=e.album_id<0?'<div class="report_album_id"><b>album_id:</b> '+e.album_id+"</div>":"";break;case 3550:t="<a href='/photo"+e.owner_id+"_"+e.photo_id+"' target='_blank'> "+a+"</a>",n+=e.photo,n+=e.album_id<0?'<div class="report_album_id"><b>album_id:</b> '+e.album_id+"</div>":"";break;case 9258:n+=e.about;break;case 1800:n+=e.status;break;case 1531:case 1530:case 1534:n+=getTemplate("nospam_reports_field",{class:"report_message",value:e.text});break;case 5e3:t="<a href='/topic-"+e.group_id+"_"+e.topic_id+"' target='_blank'> "+a+"</a>",n+=e.title;break;case 5001:case 5046:t="<a href='/topic-"+e.group_id+"_"+e.topic_id+"?post="+Math.abs(e.comment_id)+"' target='_blank'> "+a+"</a>";break;case 2131:var c=e.group_id;t="Группа: "+getTemplate("nospam_reports_id_link",{type:"club",id:c,label:c,color:"black"}),n+="<b>Название:</b>"+e.group_name+"<br>",n+="<b>Описание:</b>"+e.group_description+"<br>";break;case 7530:t="<a href='/app"+e.app_id+"' target='_blank'> "+a+"</a>",n+=e.app_name+"<br>";break;case 3670:var l=e.like_ref,u=e.like_type,p=e.owner_id+"_"+e.item_id,d="";switch(Number(u)){case 11:t="<a href='wall<a href='wall"+p+"' target='_blank'> "+a+"</a>",d+="(запись на стене), <a href='wall"+p+"' target='_blank'>vk.com/wall"+p+"</a>";break;case 12:t="<a href='wall"+p+"' target='_blank'> "+a+"</a>",d+="(комментарий на стене), <a href='wall"+p+"' target='_blank'>vk.com/wall"+p+"</a>";break;case 10:t="<a href='photo"+p+"' target='_blank'> "+a+"</a>",d+="(фотография), <a href='photo"+p+"' target='_blank'>vk.com/photo"+p+"</a>";break;case 24:case 8:t="<a href='photo"+p+"' target='_blank'> "+a+"</a>",d+="(видеозапись), <a href='video"+p+"' target='_blank'>vk.com/video"+p+"</a>";break;case 6:t="<a href='audio.php?id="+e.owner_id+"&audio_id="+e.item_id+"' target='_blank'> "+a+"</a>",d+="(аудиозапись), <a href='audio.php?id="+e.owner_id+"&audio_id="+e.item_id+"' target='_blank'>vk.com/audio.php?id="+e.owner_id+"&audio_id="+e.item_id+"</a>";break;case 22:t=a,d+="(комментарий к видео)";break;case 21:t=a,d+="(комментарий к фотографии)";break;case 20:t=a,d+="(комментарий на стене)";break;default:t=a,d+=" (незвестный тип) "+p}n+=getTemplate("nospam_reports_report_like",{like_ref:l,like_ref_id:e.ref,like_type:d,like_type_id:u});break;default:console.log("No type specified")}if(e.post_tags){var h=e.post_tags;Object.keys(h).forEach((function(e){h[e]&&(n=getTemplate("nospam_reports_tag",{tag_label:h[e]})+n)}))}if(e.score){var f=function(e){if(0===e.length)return!1;var t=[];for(var n in e)_.includes(n)&&t.push([n,e[n]]);if(0===t.length)return!1;return t.sort((e,t)=>t[1]-e[1]),t[0]}(e.score);f&&(i+=getTemplate("nospam_reports_score_block",{label:f[0],score:f[1]})),n+=getTemplate("nospam_reports_scores",{score_blocks:i})}return r.innerHTML=n,[r,t]}function O(e){var t,n,a=e.mem_banned,o=isObject(a),r=o?"Недавняя блокировка:<br>"+a.comment+"<br>"+I(new Date(1e3*a.time)):"",i="",s=k(e.ui_type,e.index),c=e.uid_base_info;""==r&&c&&(t=c[0].pattern_id,n=c[0].state,o=!0,r=(r=0==Number(n)?"Ожидает обработки noSpam ":"Обработан noSpam ")+"(шаблон номер <a href='/pattern"+Number(t)+"' target='_blank'>"+Number(t)+"</a>)");var l,u=ce("div");addClass(u,"report_info"),o&&addClass(u,"report_banned"),r&&(i=getTemplate("nospam_reports_report_ban_tooltip",{action_index:s}),h[s].ban_tt=r);var d,_=e.uid,f=Number(e.type),m=o?"red":"blue";return l=_>0?getTemplate("nospam_reports_id_link",{type:"id",id:_,label:_,color:m}):getTemplate("nospam_reports_id_link",{type:"club",id:-_,label:_,color:m}),d=p(T(e),2)[1],u.innerHTML=getTemplate("nospam_reports_report_info",{action_mention_link:l,action_tt:i,type:f,index:e.index,ip:e.ip,report_time:I(new Date(1e3*e.report_time)),action_time:I(new Date(1e3*e.time)),ua_hash:e.ua_hash,from_uid:e.from_uid,report_count:e.report_count>1?langNumeric(e.report_count,["","%s жалоба","%s жалобы","%s жалоб"]):"",report_type_link:d}),u}function E(e,t){var n="",a="report_"+e.ui_type+"_"+e.index,o=ce("div");(addClass(o,"report_steps"),"photo"!=e.ui_type&&"video"!=e.ui_type||cur.isSearchOnlyMode)||(n+="<span id = 'spamer_by_"+a+"'> <a onclick = \""+("dealSingleSpamer('"+e.ui_type+"', "+e.uid+", "+e.index+")")+'"> Забанить и откатить </a> </span>');return n+=getTemplate("nospam_reports_compose_button",{type:e.real_ui_type?e.real_ui_type:e.ui_type,ip:e.ip,ua_hash:e.ua_hash}),n+="<span id='selected_text_span"+t+"' style='display:none;'></span>",o.innerHTML=n,o}function D(e,t,n){var a="report_"+e+"_"+n;ajax.post("noSpam.php",{act:"a_single_spamer",uid:t,type:e,action:JSON.stringify(h[ge(a)])},{onDone:function(){ge("spamer_by_"+a).innerHTML="<span style = 'color: green'> Добавлен </span>"},onFail:function(){ge("spamer_by_"+a).innerHTML="<span style = 'color: red'> Неудача </span>"}})}function I(e){var t=e.getDate(),n=e.getMonth()+1;return(t<10?"0":"")+t+"."+(n<10?"0":"")+n+" в "+e.toLocaleTimeString()}var j={_sel:[],day:m.getDate(),month:m.getMonth(),months:[[0,"Января"],[1,"Февраля"],[2,"Марта"],[3,"Апреля"],[4,"Мая"],[5,"Июня"],[6,"Июля"],[7,"Августа"],[8,"Сентября"],[9,"Октября"],[10,"Ноября"],[11,"Декабря"]],year:m.getFullYear(),generateHMS:function(e){var t,n=[];switch(e){case"hour":t=23;break;case"minute":case"second":t=59}for(var a=0;a<=t;++a)n.push([a,a<10?"0"+a:a+""]);return n},generateDays:function(e,t){for(var n=[],a=Object(o.getLastDay)(e,t),r=1;r<=a;++r)n.push([r,r+""]);return n},updateDays:function(){var e=this._sel[0],t=this._sel[1].val(),n=this._sel[2].val();e.val()>Object(o.getLastDay)(n,t)&&e.clear(),e.setData(this.generateDays(n,t))},setControls:function(){var e=j,t=[["reports_day",55],["reports_month",95],["reports_year",60],["reports_hour",50],["reports_minute",50],["reports_second",50]],n=ce("div",{id:"reports_time_wrap",className:"reports_time_wrap"}),a=geByClass1("box_body");e.clear(),a.appendChild(n),t.forEach((function(n,o){var r=[],i=[],s=ce("div",{className:n[0]+" fl_l"}),c=ce("input",{type:"hidden",name:n[0],id:n[0]}),l=n[0].split("_")[1];switch(domLC(a).appendChild(s),s.appendChild(c),l){case"year":i=(r=[[e.year,e.year+""]])[0];break;case"month":r=e.months,i=e.month;break;case"day":i=(r=e.generateDays(e.year,e.month))[e.day-1];break;case"hour":r=e.generateHMS(l),i=m.getHours();break;case"minute":r=e.generateHMS(l),i=m.getMinutes();break;case"second":r=e.generateHMS(l),i=m.getSeconds();break;default:i=r=e[l]}var u={width:t[o][1],multiselect:!1,autocomplete:!1,selectedItems:i};"month"!==l&&"year"!==l||extend(u,{onChange:function(e){j.updateDays()}}),j._sel.push(new Dropdown(c,r,u))}))},setTime:function(){boxQueue.hideLast();var e=j,t=e._sel,n={day:t[0].val(),month:t[1].val(),year:t[2].val(),hour:t[3].val(),minute:t[4].val(),second:t[5].val()},a=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second),o=e.tt;val(o,a.getTime()/1e3)},set:function(e,t){var n=this.setControls,a=this.setTime,o=domData(t,"part");m=new Date;var r=o?"time_"+e+"_input2":"time_"+e+"_input";this.tt=ge(r,i.patternWrap),showFastBox({width:435,title:"Время действия ("+("start"==e?"позже":"раньше")+", чем)",dark:1,containerClass:"nospam_report_time_box",onShow:n},'<div class="reports_time_label">Укажите дату:</div>',"Применить",a)},clear:function(){return this._sel=[]}};function B(e){Object(l.isSpecialKeyPressed)(e)?function(e){var t=Object(r.getParams)();if(t.type=domData(e,"type"),null===t.type)return!1;"post"!==t.type&&"comment"!==t.type||(t.type="wall");t.ip=domData(e,"ip"),t.uahash=domData(e,"ua-hash"),t.pattern=t.pattern||getSelectionText(),t.threshold=1;var n=Object(r.composeSearchLinkFromParams)(t);Object(l.openInNewTab)(n)}(e.target):function(e){var t=domData(e,"type"),n=domData(e,"ip"),a=domData(e,"ua-hash");if(null===t)return;"post"!=t&&"comment"!=t||(t="wall");Object(r.setIp)(n),Object(r.setUaHash)(a),Object(r.setThreshold)(1),cur.uiSpamtype.selectItem(t),Object(i.switchTab)(i.tabPattern),Object(r.optionClear)(!1,"reset_all")}(e.target)}function L(e,t){var n=f[e];f[e]?n&&n!==t&&debugLog("collision for "+e,t,n):f[e]=t}function N(){if(Object(i.getCurrentTab)()===i.tabReports){var e=b(),t=geByClass1("_reports_"+e+"_wrap",i.reportList),n=geByClass1("_report_show_more",domPN(t)),a=domPN(n),o=window.innerHeight||document.documentElement||bodyNode.clientHeight;v=scrollGetY(),isVisible(a)&&Object(i.activeTab)()===i.tabReports&&o+v>n.offsetTop&&n.click()}}function M(){clearTimeout(g),g=setTimeout(w.pbind(b(),y()),1e3)}function P(){var e=Object(u.createModule)({handlers:(e,t)=>{t(i.reportList,"mouseover","report_steps",C),t(i.reportList,"click","report_steps",e=>B(e)),t(i.reportList,"mouseover","report_info_ban_tooltip",e=>function(e){var t=e.target,n=domData(t,"action-index"),a=h[n].ban_tt;a&&showTooltip(t,{text:a,dir:"down",hasover:1,shift:[22,5,0]})}(e)),t(i.reportList,"mouseover","report_info_ua_hash",e=>function(e){var t=e.target,n=domData(t,"ua-hash"),a=f[n];showTooltip(t,{text:a||"[NULL]",dir:"down",hasover:1,shift:[22,5,0]})}(e)),e(document,"scroll",N),t(i.reportList,"click","_report_show_more",e=>{var t=domData(e.target,"need-shift");x(b(),t)}),t(i.reportTabs,"click","report_filter",e=>S(e)),t(i.reportList,"click","_report_btn_update",e=>{w(b(),y())}),t(i.reportTabs,"mouseover","settings_dots_wrap",e=>{var t=geByClass1("settings_dots_wrap");showTooltip(t,{black:!0,text:getTemplate("reports_group_message_tab_tooltip"),className:"group_messages_settings_tt",slideY:15,shift:[98,100,20],dir:"top",showdt:300,hidedt:100,hasover:!0,onCreate:function(){var e;e=ge("search_shift_filter"),cur.hoursShiftSlider=new Slider(e,{width:200,height:100,debounce:10,size:2,value:parseFloat(nav.objLoc.shift/23)||0,onChange:e=>{Object(l.updateUrl)({shift:parseInt(23*e)}),M()},formatHint:e=>langNumeric(parseInt(23*e),["","%s час назад","%s часа назад","%s часов назад"])}),Object(l.initRadioButtons)("group_messages_reports_sorting","sorting_radio_filter_wrap",1)}})})}});cur.destroy.push(()=>{Object(u.destroyModule)(e)})}var H={initUpdate:function(){scrollToY(v)}}},mWs8:function(e,t,n){"use strict";n.r(t),n.d(t,"addSpriteSymbol",(function(){return l})),n.d(t,"useIsomorphicLayoutEffect",(function(){return u}));var a,o=n("r8Xr"),r=n.n(o),i=n("q1tI"),s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){a=new r.a({attrs:{id:"__SVG_SPRITE_NODE__"}});var c=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?a.attach(e):a.mount()};document.querySelector("body")?c():document.addEventListener("DOMContentLoaded",c)}else a=null;function l(e){a&&a.add(e)}var u=s?i.useLayoutEffect:i.useEffect},oj6k:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),r=n("ylNO"),i=n.n(r),s=n("nv/5"),c=n("mWs8"),l=n("IXTq"),u="cancel_16",p=!1;function d(){p||(Object(c.addSpriteSymbol)(new i.a({id:u,viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="cancel_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M8 6.727l3.464-3.463a.9.9 0 111.272 1.272L9.273 8l3.463 3.464a.9.9 0 11-1.272 1.272L8 9.273l-3.464 3.463a.9.9 0 11-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 011.272-1.272L8 6.727z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),p=!0)}var _=function(e){return Object(c.useIsomorphicLayoutEffect)((function(){d()}),[]),o.a.createElement(l.SvgIcon,Object(s.assign)({},e,{viewBox:"0 0 16 16",id:u,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};_.mountIcon=d,t.default=_},uRA3:function(e,t,n){"use strict";n.r(t),n.d(t,"abortPatternMild",(function(){return c})),n.d(t,"noSpamPatterns",(function(){return l}));var a,o,r,i=n("awNS"),s={};function c(e){ajax.post("noSpam.php",{act:"a_abort_pattern_mild",pid:e},{onDone:function(){ge("abort_pattern_mild"+e).innerHTML="<span style = 'color: green'>остановлен</span>"},onFail:function(){ge("abort_pattern_mild"+e).innerHTML="<span style = 'color: red'>ошибка</span>"}})}var l={patternTooltip:function(e,t){var n={content:s[t]?s[t].tooltip:"",className:"pattern_tt_wrap",nohideover:0,showsp:150,slide:15,hasover:0,shift:[5,0,0]};return showTooltip(e,n)},updateProcess:function(e){var t=vkNow();"patterns"===Object(i.activeTab)()&&-1!=window._wf&&((t-o>5e3||e)&&(ajax.post("noSpam.php",{act:"a_in_process"},{onDone:function(e){var t=ge("in_process");if(t)return e>0?animateCount(t,e):t.innerHTML=e},onFail:function(e){ge("in_process").innerHTML=e||"Неизвестная ошибка (banProcess)"}}),o=t),(t-a>1e4||e)&&(ajax.post("noSpam.php",{act:"a_last_patterns"},{onDone:function(e){var t=geByClass1("in_process_wrap");if(t){show(t);var n=e.table;delete e.table,s=e,ge("patterns").innerHTML=n}},onFail:function(e){var t=geByClass1("in_process_wrap");if(t)return t.innerHTML=e||"Неизвестная ошибка (pProcess)"}}),a=t))},clearTimer:function(){clearInterval(r)},initUpdate:function(){this.updateProcess(!0),r||(r=setInterval(this.updateProcess,1e3),cur.destroy.push(this.clearTimer))}}},wiul:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),r=n("ylNO"),i=n.n(r),s=n("nv/5"),c=n("mWs8"),l=n("IXTq"),u="article_outline_16",p=!1;function d(){p||(Object(c.addSpriteSymbol)(new i.a({id:u,viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="article_outline_16"><path d="M13.182 3.5c.452 0 .818.336.818.75 0 .38-.308.693-.707.743L13.182 5H2.818C2.366 5 2 4.664 2 4.25c0-.38.308-.693.707-.743l.111-.007zm0 4c.452 0 .818.336.818.75 0 .38-.308.693-.707.743L13.182 9H2.818C2.366 9 2 8.664 2 8.25c0-.38.308-.693.707-.743l.111-.007zm-3.727 4c.3 0 .545.336.545.75 0 .38-.205.694-.471.743L9.455 13h-6.91c-.3 0-.545-.336-.545-.75 0-.38.205-.694.471-.743l.074-.007z" fill="currentColor" /></symbol>'})),p=!0)}var _=function(e){return Object(c.useIsomorphicLayoutEffect)((function(){d()}),[]),o.a.createElement(l.SvgIcon,Object(s.assign)({},e,{viewBox:"0 0 16 16",id:u,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};_.mountIcon=d,t.default=_}}]);try{stManager.done("cmodules/bundles/e664f14fb87266cecd9413da563dcda4.f4d4be7d88e8ed326a55.js")}catch(e){}